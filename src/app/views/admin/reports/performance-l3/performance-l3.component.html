<div class="animated fadeIn row">
    <div class="col-12">
      <div
        class=" text-left justify-content-end card card-info bg-gray-300 p-sm-2"
        [ngClass]="{
          'pt-4 pb-4 ': filters.value.time != '-1',
          'pt-2 pb-2 ': filters.value.time == '-1'
        }"
      >
        <div class="text-center col-12 " [formGroup]="filters">
          <div class="row text-center justify-content-center align-items-center"  
        >
            <ng-multiselect-dropdown
              [placeholder]="'انتخاب معاونت '"
              [data]="groups"
              formControlName="selectedItems"
              [settings]="asDropdownSettings"
              (onSelect)="onItemSelect($event)"
              (onDeSelect)="onDeSelectMain()"
              (onSelectAll)="updateLines()"
              (onDeSelectAll)="updateLines()"
              class="form-control mb-md-2 mb-sm-2 mb-lg-2 p-0 col-12 col-xl-3 "
            >
            </ng-multiselect-dropdown>

            <ng-multiselect-dropdown
                [placeholder]="'انتخاب اداره '"
                [data]="offices"
                formControlName="selectedSub1"
                [settings]="officeDropdownSettings"
                (onSelect)="officeSelected($event)"
                (onDeSelect)="onDeSelectSub1($event)"
                (onDeSelectAll)="onDeSelectSub1($event)"
                (onSelectAll)="updateLines()"
                (onDeSelectAll)="updateLines()"
                class="form-control mb-md-2 mb-sm-2 mb-lg-2 p-0 col-12 col-xl-2 "
            >
            </ng-multiselect-dropdown>

            <ng-multiselect-dropdown
            [placeholder]="'انتخاب داخلی '"
            [data]="lines"
            formControlName="selectedSub2"
            [settings]="lineDropdownSettings"
            (onSelect)="updateCharts()"
            (onDeSelect)="updateCharts()"
            (onDeSelectAll)="updateCharts()"
            (onSelectAll)="updateCharts()"
            (onDeSelectAll)="updateCharts()"
            class="form-control mb-md-2 mb-sm-2 mb-lg-2 p-0 col-12 col-xl-2 "
            >
            </ng-multiselect-dropdown>


            <div
                class="col-12 mb-md-2 mb-sm-2 mb-lg-2 col-xl-3"
                [ngClass]="{
                ' col-xl-3': filters.value.time != '-1',
                ' col-xl-2': filters.value.time == '-1'
                }"
            >
                <div class="input-group">
                <div class="input-group-prepend">
                    <label class="input-group-text">بازه زمانی</label>
                </div>
                <select
                    class="col form-control"
                    (change)="updateCharts()"
                    formControlName="time"
                >
                    <option value=0>همه زمان ها</option>
                    <option value="1">یک روز اخیر</option>
                    <option value="30">یک ماه اخیر </option>
                    <option value="365"> یک سال اخیر</option>
                    <option value=-1>انتخابی...</option>
                </select>
                </div>
            </div>
            <div
                class="col-2 mb-md-2 mb-sm-2 mb-lg-2"
                [hidden]="filters.value.time != '-1'"
            >
                <div class="bg-gray-200 p-1 rounded row">
                <div class=" col-12">
                    <span>از تاریخ:</span>
                    <md-input-container class="date-filter">
                    <input
                        class="form-control-sm p-0 border"
                        mdInput
                        name="someName"
                        dir="rtl"
                        mode="day"
                        theme="dp-material"
                        placeholder="تاریخ"
                        [formControl]="selectedDateFrom"
                        [dpDayPicker]="datePickerConfig"
                        (onSelect)="onSelectDate()"
                    />
                    </md-input-container>
                </div>
                <div class=" col-12 ">
                    <span>تا تاریخ:</span>
                    <md-input-container class="date-filter">
                    <input
                        class="form-control-sm p-0 border"
                        mdInput
                        name="someName"
                        dir="rtl"
                        mode="day"
                        theme="dp-material"
                        placeholder="تاریخ"
                        [formControl]="selectedDateTo"
                        [dpDayPicker]="datePickerConfig"
                        (onSelect)="onSelectDate()"
                    />
                    </md-input-container>
                </div>

                <div class="col-12 text-center">
                    <button class=" btn btn-info btn-sm" (click)="onSelectDate()">تایید</button>
                </div>
                </div>
            </div>
            <div class="col-12">
            <div class="row mb-lg-2 mb-md-2 mb-sm-2 ">
                <div class="col-12 col-xl-3">
                    <div class="row">
                    <div
                    class="col-12 btn-group btn-group-toggle"
                    data-toggle="buttons"
                    
                    >
                    <label
                        class="btn btn-primary"
                        [ngClass]="{ active: filters.value.inorout == 'in' }"
                        for="in"
                        
                    >
                        <input
                        type="radio"
                        value="in"
                        formControlName="inorout"
                        id="in"
                        (change)="filters.value.inorout = 'in';updateCharts()"
                        autocomplete="off"
                        />
                        ورودی
                    </label>
                    <label
                        class="btn btn-primary"
                        [ngClass]="{ active: filters.value.inorout == 'out' }"
                        for="out"
                        
                    >
                        <input
                        type="radio"
                        value="out"
                        formControlName="inorout"
                        id="out"
                        autocomplete="off"
                        (change)="filters.value.inorout = 'out';updateCharts()"
                        />
                        خروجی
                    </label>
                    </div>
                    </div>
                </div>
                <div class="col-12 col-xl-4" *ngIf="filters.value.inorout == 'in'">
                        <div class="row">
                            <div
                            class="col-12 btn-group btn-group-toggle"
                            data-toggle="buttons"
                           
                            >
                            <label
                            class="btn btn-primary"
                            [ngClass]="{ active: filters.value.disposition == '0' }"
                            for="disposition0"
                            
                        >
                            <input
                            type="radio"
                            value="0"
                            formControlName="disposition"
                            id="disposition0"
                            autocomplete="off"
                            (change)="filters.value.disposition = '0';updateCharts()"
                            />
                            همه
                            </label>

                            <label
                            class="btn btn-primary"
                            [ngClass]="{ active: filters.value.disposition == '1' }"
                            for="disposition1"
                            >
                                <input
                                type="radio"
                                value="1"
                                formControlName="disposition"
                                id="disposition1"
                                autocomplete="off"
                                (change)="filters.value.disposition = '1';updateCharts()"
                                />
                                پاسخ داده شده
                            </label>
                            <label
                            class="btn btn-primary"
                            [ngClass]="{ active: filters.value.disposition == '2' }"
                            for="disposition2"
                            >
                                <input
                                type="radio"
                                value="2"
                                formControlName="disposition"
                                id="disposition2"
                                autocomplete="off"
                                (click)="filters.value.disposition = '2';updateCharts()"
                                />
                                پاسخ داده نشده
                            </label>
                            <label
                            class="btn btn-primary"
                            [ngClass]="{ active: filters.value.disposition == '3' }"
                            for="disposition3"
                            >
                            <input
                            type="radio"
                            value="3"
                            formControlName="disposition"
                            id="disposition3"
                            autocomplete="off"
                            (change)="filters.value.disposition = '3';updateCharts()"
                            />
                            اشغال
                            </label>

                            </div>
                        </div>
                </div>
                <div class="col-12 col-xl-5"
                [ngClass]="{
                    ' col-xl-4': filters.value.time != '-1',
                    ' col-xl-3': filters.value.time == '-1'
                }"
                >
                <div class="row">
                    <div
                    class="col-12 btn-group btn-group-toggle"
                    data-toggle="buttons"
                    >
                    <label
                        class="btn btn-primary active"
                        [ngClass]="{ active: filters.value.type == '0' }"
                        for="type0"
                        
                    >
                        <input
                        type="radio"
                        value="0"
                        id="type0"
                        formControlName="type"
                        autocomplete="off"
                        (change)="filters.value.type = '0';updateCharts()"
                        checked
                        />
                        همه
                    </label>
                    <label
                        class="btn btn-primary"
                        [ngClass]="{ active: filters.value.type == '1' }"
                        for="type1"
                        
                    >
                        <input
                        type="radio"
                        value="1"
                        id="type1"
                        formControlName="type"
                        autocomplete="off"
                        (change)="filters.value.type = '1';updateCharts()"
                        />
                        داخلی
                    </label>
                    <label
                    class="btn btn-primary"
                    [ngClass]="{ active: filters.value.type == '2' }"
                    for="type2"
                    >
                        <input
                        type="radio"
                        value="2"
                        id="type2"
                        formControlName="type"
                        autocomplete="off"
                        (change)="filters.value.type = '2';updateCharts()"
                        />
                        شهری
                    </label>
                    <label
                        class="btn btn-primary"
                        [ngClass]="{ active: filters.value.type == '3' }"
                        for="type3"
                        
                    >
                        <input
                        type="radio"
                        value="3"
                        id="type3"
                        formControlName="type"
                        autocomplete="off"
                        (change)="filters.value.type = '3';updateCharts()"
                        />
                        بین شهری
                    </label>
                    <label
                        class="btn btn-primary"
                        [ngClass]="{ active: filters.value.type == '4' }"
                        for="type4"
                       
                    >
                        <input
                        type="radio"
                        value="4"
                        id="type4"
                        formControlName="type"
                        autocomplete="off"
                        (change)="filters.value.type = '4';updateCharts()"
                        />
                        موبایل
                    </label>
                    </div>
                </div>
                </div>
            </div>
            </div>
  
  
          </div>
        </div>
      </div>
  
      <div class="row">
        <div class="col-12" *ngIf="lineChartData.length > 0">
          <div class="card">
            <div class="card-header">
              نمودار خطی
              پاسخ گویی تماس ها
              <div class="card-header-actions"></div>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <div class="chart-wrapper mt-3 mx-3 ">
                    <app-bar-chart
                      [datasets]="lineChartData"
                      [labels]="lineChartLabels"
                    >
                    </app-bar-chart>
                  </div>
                </div>
                <div class="col-12 mt-1 border-top pt-2" *ngIf="false">
                  <div class="row justify-content-center text-center">
                    <div class="form-check col-1 text-left">
                      <div class="row">
                        <label class="form-check-label" for="showLineAllCalls">
                          همه
                        </label>
                        <input
                          class="form-check-input hide"
                          type="checkbox"
                          value=""
                          [checked]="showLineAllCalls"
                          id="showLineAllCalls"
                          (change)="
                            $event.target.checked
                              ? (showLineAllCalls = true)
                              : (showLineAllCalls = false)
                          "
                        />
  
                        <label
                          class="switch switch-label switch-pill switch-outline-primary-alt"
                        >
                          <input
                            type="checkbox"
                            class="switch-input"
                            [checked]="showLineAllCalls"
                            id="showLineAllCalls"
                            (change)="
                              $event.target.checked
                                ? (showLineAllCalls = true)
                                : (showLineAllCalls = false);
                              updateCharts()
                            "
                          />
                          <span
                            class="switch-slider"
                            data-checked="On"
                            data-unchecked="Off"
                          ></span>
                        </label>
                      </div>
                    </div>
                    <div class="form-check col-2 text-left">
                      <div class="row">
                        <label class="form-check-label" for="showAnsweredCalls">
                          پاسخ داده شده
                        </label>
                        <input
                          class="form-check-input hide"
                          type="checkbox hide"
                          value=""
                          [checked]="showAnsweredCalls"
                          id="showAnsweredCalls"
                          (change)="
                            $event.target.checked
                              ? (showAnsweredCalls = true)
                              : (showAnsweredCalls = false)
                          "
                        />
                        <label
                          class="switch switch-label switch-pill switch-outline-warning-alt"
                        >
                          <input
                            type="checkbox"
                            class="switch-input"
                            [checked]="showAnsweredCalls"
                            id="showAnsweredCalls"
                            (change)="
                              $event.target.checked
                                ? (showAnsweredCalls = true)
                                : (showAnsweredCalls = false);
                              updateCharts()
                            "
                          />
                          <span
                            class="switch-slider"
                            data-checked="On"
                            data-unchecked="Off"
                          ></span>
                        </label>
                      </div>
                    </div>
                    <div class="form-check col-2 text-left">
                      <div class="row">
                        <label class="form-check-label" for="showNoAnsweredCalls">
                          پاسخ داده نشده
                        </label>
                        <input
                          class="form-check-input hide"
                          type="checkbox"
                          value=""
                          [checked]="showNoAnsweredCalls"
                          id="showNoAnsweredCalls"
                          (change)="
                            $event.target.checked
                              ? (showNoAnsweredCalls = true)
                              : (showNoAnsweredCalls = false)
                          "
                        />
                        <label
                          class="switch switch-label switch-pill switch-outline-success-alt"
                        >
                          <input
                            type="checkbox"
                            class="switch-input"
                            [checked]="showNoAnsweredCalls"
                            id="showNoAnsweredCalls"
                            (change)="
                              $event.target.checked
                                ? (showNoAnsweredCalls = true)
                                : (showNoAnsweredCalls = false);
                              updateCharts()
                            "
                          />
                          <span
                            class="switch-slider"
                            data-checked="On"
                            data-unchecked="Off"
                          ></span>
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
  
        <div class="col-12" *ngIf="false">
          <div class="card">
            <div class="card-header">
              نمودار میله ای
             پاسخ گویی تماس ها
              <div class="card-header-actions"></div>
            </div>
            <div class="card-body">
              <div class="chart-wrapper">
                <app-bar-chart
                  [datasets]="callsChartData"
                  [labels]="callsBarChartLabels"
                >
                </app-bar-chart>
              </div>
            </div>
          </div>
        </div>
  
        <div class="col-12" *ngIf="false">
          <div class="card">
            <div class="card-header">
              نمودار خطی عملکرد معاونت
            </div>
            <div class="card-body row">
              <div class="chart-wrapper col-12">
                <app-line-chart
                  [datasets]="performanceChartData"
                  [labels]="performanceChartLabels"
                  [colors]="timeBarChartColors"
                >
                </app-line-chart>
              </div>
            </div>
          </div>
        </div>
  
        <div class="col-12" *ngIf="false">
          <div class="card">
            <div class="card-header">
              نمودار میله ای عملکرد معاونت
            </div>
            <div class="card-body row">
              <div class="chart-wrapper col-12">
                <app-bar-chart
                  [datasets]="performanceChartData"
                  [labels]="performanceChartLabels"
                  [colors]="timeBarChartColors"
                >
                </app-bar-chart>
              </div>
            </div>
          </div>
        </div>
  
        <div class="col-12" *ngIf="false">
          <div class="card">
            <div class="card-header">
              نمودار
             مدت زمان پاسخ گویی تماس ها
              <div class="card-header-actions"></div>
            </div>
            <div class="card-body">
              <div class="chart-wrapper">
                <app-line-chart
                  [datasets]="timesChartData"
                  [labels]="timesChartLabels"
                  [colors]="timeBarChartColors"
                >
                </app-line-chart>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  