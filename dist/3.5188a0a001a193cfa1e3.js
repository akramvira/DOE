(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{CDp5:function(t,e,l){"use strict";var n=l("CcnG"),o=l("xdbM"),a=l("DQlY"),r=l("lqqz");l("FPbz"),l("aA0j"),l.d(e,"a",function(){return i}),l.d(e,"b",function(){return s});var i=n["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function s(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","badge  btn btn-sm border-right float-right"]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.export("excel")&&n),n},null,null)),(t()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,[" Excel"])),(t()(),n["\u0275eld"](3,0,null,null,2,"button",[["class","badge btn  btn-sm float-right mr-1"]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.export("csv")&&n),n},null,null)),(t()(),n["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,[" CSV"])),(t()(),n["\u0275eld"](6,0,null,null,2,"button",[["class","badge btn  btn-sm float-right mr-1"]],null,[[null,"click"]],function(t,e,l){var o=!0;return"click"===e&&(o=!1!==n["\u0275nov"](t,13).show()&&o),o},null,null)),(t()(),n["\u0275eld"](7,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,[" Zoom"])),(t()(),n["\u0275eld"](9,0,null,null,2,"div",[["class","chart-wrapper mt-3 mx-3 "]],null,null,null,null,null)),(t()(),n["\u0275eld"](10,0,null,null,1,"canvas",[["baseChart",""],["class","chart"]],null,[[null,"chartHover"],[null,"chartClick"]],function(t,e,l){var n=!0,o=t.component;return"chartHover"===e&&(n=!1!==o.chartHovered(l)&&n),"chartClick"===e&&(n=!1!==o.chartClicked(l)&&n),n},null,null)),n["\u0275did"](11,737280,null,0,o.BaseChartDirective,[n.ElementRef],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},{chartClick:"chartClick",chartHover:"chartHover"}),(t()(),n["\u0275eld"](12,16777216,null,null,18,"div",[["aria-hidden","true"],["aria-labelledby","myModalLabel"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(t,e,l){var o=!0;return"click"===e&&(o=!1!==n["\u0275nov"](t,13).onClick(l)&&o),"keydown.esc"===e&&(o=!1!==n["\u0275nov"](t,13).onEsc(l)&&o),o},null,null)),n["\u0275did"](13,212992,[["zooOutModal",4]],0,a.d,[n.ElementRef,n.ViewContainerRef,n.Renderer2,r.a],null,null),(t()(),n["\u0275eld"](14,0,null,null,16,"div",[["class","modal-dialog modal-xl"],["role","document"]],null,null,null,null,null)),(t()(),n["\u0275eld"](15,0,null,null,15,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),n["\u0275eld"](16,0,null,null,5,"div",[["class","modal-header bg-light"]],null,null,null,null,null)),(t()(),n["\u0275eld"](17,0,null,null,1,"h4",[["class","modal-title col-12 p-0"]],null,null,null,null,null)),(t()(),n["\u0275ted"](18,null,["",""])),(t()(),n["\u0275eld"](19,0,null,null,2,"button",[["aria-label","Close"],["class","close p-0 pt-4"],["type","button"]],null,[[null,"click"]],function(t,e,l){var o=!0;return"click"===e&&(o=!1!==n["\u0275nov"](t,13).hide()&&o),o},null,null)),(t()(),n["\u0275eld"](20,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,["\xd7"])),(t()(),n["\u0275eld"](22,0,null,null,8,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),n["\u0275eld"](23,0,null,null,4,"div",[["class","animated fadeIn justify-content-end row border-bottom justify-content-center"]],null,null,null,null,null)),(t()(),n["\u0275eld"](24,0,null,null,3,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),n["\u0275eld"](25,0,null,null,2,"div",[["class","chart-wrapper  pt-3"]],null,null,null,null,null)),(t()(),n["\u0275eld"](26,0,null,null,1,"canvas",[["baseChart",""],["class","chart"]],null,[[null,"chartHover"],[null,"chartClick"]],function(t,e,l){var n=!0,o=t.component;return"chartHover"===e&&(n=!1!==o.chartHovered(l)&&n),"chartClick"===e&&(n=!1!==o.chartClicked(l)&&n),n},null,null)),n["\u0275did"](27,737280,null,0,o.BaseChartDirective,[n.ElementRef],{datasets:[0,"datasets"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"],legend:[5,"legend"]},{chartClick:"chartClick",chartHover:"chartHover"}),(t()(),n["\u0275eld"](28,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),n["\u0275eld"](29,0,null,null,1,"button",[["class","btn btn-secondary mr-2"],["type","button"]],null,[[null,"click"]],function(t,e,l){var o=!0;return"click"===e&&(o=!1!==n["\u0275nov"](t,13).hide()&&o),o},null,null)),(t()(),n["\u0275ted"](-1,null,[" \u0628\u0633\u062a\u0646 "]))],function(t,e){var l=e.component;t(e,11,0,l.datasets,l.labels,l.options,l.lineChartType,l.colors,l.lineChartLegend),t(e,13,0),t(e,27,0,l.datasets,l.labels,l.options,l.lineChartType,l.colors,l.lineChartLegend)},function(t,e){t(e,18,0,e.component.title)})}},"E+d1":function(t,e,l){"use strict";l.d(e,"a",function(){return o}),l("hSFZ"),l("aA0j");var n=l("H++W"),o=function(){function t(t){this.excelService=t,this.labels=["\u062f\u0631 \u062d\u0627\u0644 \u0627\u0633\u062a\u0641\u0627\u062f\u0647","\u0622\u0632\u0627\u062f"],this.data=[0,100],this.colors=[{backgroundColor:["#f86c6b","rgba(228, 229, 230, 0.63)"]}],this.chartOptions={scaleShowVerticalLines:!0,barRoundness:3,legend:{labels:{fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold"}},tooltips:{fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold",enabled:!1,custom:n.CustomTooltips,callbacks:{label:function(t,e){var l=e.labels[t.index]||"";return l&&(l+=": "),l+(isNaN(e.datasets[0].data[t.index])?"%0":"%"+e.datasets[0].data[t.index])}}},plugins:{labels:{render:"percent",precision:2,arc:!0},formatter:function(t){return isNaN(t)?"":t}}},this.doughnutChartType="doughnut"}return t.prototype.ngOnInit=function(){},t.prototype.chartClicked=function(t){console.log(t)},t.prototype.chartHovered=function(t){console.log(t)},t.prototype.export=function(t){void 0===t&&(t="excel");var e=[],l=(JSON.parse(JSON.stringify(this.data)),{});for(var n in this.labels)l[this.labels[n].replace(/\s/g,"_")]=this.data[n];e.push(l),this.exportAsXLSX(e,t)},t.prototype.exportAsXLSX=function(t,e){void 0===e&&(e="excel"),this.excelService.exportAsExcelFile(t,this.doughnutChartType,e)},t}()},FPbz:function(t,e,l){"use strict";l.d(e,"a",function(){return o});var n=l("H++W"),o=(l("hSFZ"),l("aA0j"),function(){function t(t){this.excelService=t,this.chartHsteps=50,this.isTimeChart=!1,this.title="",this.datasets=[],this.contentTitle="",this.lineChartMaxYAxes=100,this.labels=new Array(this.chartHsteps).fill(""),this.colors=[{backgroundColor:"rgba(255, 161, 181, 0.2)",borderColor:"rgba(255, 161, 181, 0.4)",pointBackgroundColor:"rgba(255, 161, 181, 0.4)",pointBorderColor:"rgba(255, 161, 181, 0.4)",pointHoverBackgroundColor:"rgba(255, 161, 181, 0.4)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(77, 189, 116, 0.2)",borderColor:"rgba(77, 189, 116, 0.4)",pointBackgroundColor:"rgba(77, 189, 116, 0.4)",pointBorderColor:"rgba(77, 189, 116, 0.4)",pointHoverBackgroundColor:"rgba(77, 189, 116, 0.4)",pointHoverBorderColor:"rgba(148,159,177,0.8)"},{backgroundColor:"rgba(255, 193, 7, 0.2)",borderColor:"rgba(255, 193, 7, 0.4)",pointBackgroundColor:"rgba(255, 193, 7, 0.4)",pointBorderColor:"rgba(255, 193, 7, 0.4)",pointHoverBackgroundColor:"rgba(255, 193, 7, 0.4)",pointHoverBorderColor:"rgba(77,83,96,1)"},{backgroundColor:"rgba(32, 168, 216, 0.2)",borderColor:"rgba(32, 168, 216, 0.4)",pointBackgroundColor:"rgba(32, 168, 216, 0.4)",pointBorderColor:"rgba(32, 168, 216, 0.4)",pointHoverBackgroundColor:"rgba(32, 168, 216, 0.4)",pointHoverBorderColor:"rgba(148,159,177,0.8)"}],this.lineChartLegend=!0,this.lineChartType="line"}return t.prototype.ngOnInit=function(){var t=this.isTimeChart;this.options={responsive:!0,loneJoin:"miter",bezierCurve:!0,elements:{point:{radius:0},line:{tension:0}},tooltips:{fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold",enabled:!1,mode:"index",custom:n.CustomTooltips,intersect:!1,callbacks:{label:function(e,l){var n=l.datasets[e.datasetIndex].label||"";if(t){if(0==e.yLabel)return 0;var o=Number(e.yLabel),a=Math.floor(o/3600),r=Math.floor(o%3600/60),i=Math.floor(o%3600%60);return n+": "+(0==a?"":a>=10?a+":":"0"+a+":")+(r>=10?r:"0"+r)+":"+(i>=10?i:"0"+i)}return n+'<i class="icon icon-clock"></i> :: '+e.yLabel}}},hover:{mode:"nearest",intersect:!0,fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold",enabled:!1,custom:n.CustomTooltips,callbacks:{label:function(t,e){var l=e.datasets[t.datasetIndex].label||"";return l&&(l+=": "),l+(isNaN(t.yLabel)?"0":t.yLabel)}}},legend:{labels:{fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold"}},plugins:{labels:{render:"value",fontColor:["green","white","red"],precision:2,arc:!0},formatter:function(t){return isNaN(t)?"":t}},scales:{yAxes:[{id:"left-y-axis",ticks:{beginAtZero:!0,fontFamily:"IRANSans",fontColor:"black",fontSize:13,userCallback:function(e){if(t){if(0==e)return 0;var l=Number(e),n=Math.floor(l/3600),o=Math.floor(l%3600/60),a=Math.floor(l%3600%60);return(0==n?"":n>=10?n+":":"0"+n+":")+(o>=10?o:"0"+o)+":"+(a>=10?a:"0"+a)}return e}},scaleLabel:{labelString:t?"\u0645\u062f\u062a \u0632\u0645\u0627\u0646":"\u062a\u0639\u062f\u0627\u062f \u062a\u0645\u0627\u0633",display:!0,fontFamily:"IRANSans",fontColor:"black",fontStyle:"bold"}}],xAxes:[{fontFamily:"IRANSans",fontColor:"black",ticks:{beginAtZero:!0,stepSize:.5,fontFamily:"IRANSans",fontColor:"black",fontSize:13}}]}}},t.prototype.exportAsXLSX=function(t,e){void 0===e&&(e="excel"),this.excelService.exportAsExcelFile(t,this.lineChartType,e)},t.prototype.chartClicked=function(t){console.log(t)},t.prototype.chartHovered=function(t){console.log(t)},t.prototype.export=function(t){void 0===t&&(t="excel");var e=[];e.push({"\u0646\u0627\u0645 \u0646\u0645\u0648\u062f\u0627\u0631":this.contentTitle}),e.push({labels:this.labels});var l=[],n=JSON.parse(JSON.stringify(this.datasets));for(var o in this.labels){var a={};for(var r in n)a[n[r].label]=n[r].data.pop();l.push(a)}for(var r in l)e.push(l[r]);this.exportAsXLSX(e,t)},t}())},"H++W":function(t,e,l){!function(t){"use strict";function e(t){var e,l,n={DIV:"div",SPAN:"span",TOOLTIP:(this._chart.canvas.id||(e=function(){return(65536*(1+Math.random())|0).toString(16)},l="_canvas-"+(e()+e()),this._chart.canvas.id=l,l))+"-tooltip"},o=document.getElementById(n.TOOLTIP);if(o||((o=document.createElement("div")).id=n.TOOLTIP,o.className="chartjs-tooltip",this._chart.canvas.parentNode.appendChild(o)),0!==t.opacity){if(o.classList.remove("above","below","no-transform"),o.classList.add(t.yAlign?t.yAlign:"no-transform"),t.body){var a=t.title||[],r=document.createElement(n.DIV);r.className="tooltip-header",a.forEach(function(t){var e=document.createElement(n.DIV);e.className="tooltip-header-item",e.innerHTML=t,r.appendChild(e)});var i=document.createElement(n.DIV);i.className="tooltip-body",t.body.map(function(t){return t.lines}).forEach(function(e,l){var o=document.createElement(n.DIV);o.className="tooltip-body-item";var a=t.labelColors[l],r=document.createElement(n.SPAN);if(r.className="tooltip-body-item-color",r.style.backgroundColor=a.backgroundColor,o.appendChild(r),e[0].split(":").length>1){var s=document.createElement(n.SPAN);s.className="tooltip-body-item-label",s.innerHTML=e[0].split(": ")[0],o.appendChild(s);var c=document.createElement(n.SPAN);c.className="tooltip-body-item-value",c.innerHTML=e[0].split(": ").pop(),o.appendChild(c)}else{var u=document.createElement(n.SPAN);u.className="tooltip-body-item-value",u.innerHTML=e[0],o.appendChild(u)}i.appendChild(o)}),o.innerHTML="",o.appendChild(r),o.appendChild(i)}var s=this._chart.canvas.offsetTop,c=this._chart.canvas.offsetLeft;o.style.opacity=1,o.style.left=c+t.caretX+"px",o.style.top=s+t.caretY+"px"}else o.style.opacity=0}var l=e;t.CustomTooltips=e,t.customTooltips=l,Object.defineProperty(t,"__esModule",{value:!0})}(e)},UlZm:function(t,e,l){"use strict";var n=l("CcnG"),o=l("xdbM");l("E+d1"),l("aA0j"),l.d(e,"a",function(){return a}),l.d(e,"b",function(){return r});var a=n["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function r(t){return n["\u0275vid"](0,[(t()(),n["\u0275eld"](0,0,null,null,2,"button",[["class","badge  btn btn-sm border-right float-right"]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.export("excel")&&n),n},null,null)),(t()(),n["\u0275eld"](1,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,[" Excel"])),(t()(),n["\u0275eld"](3,0,null,null,2,"button",[["class","badge btn  btn-sm float-right mr-1"]],null,[[null,"click"]],function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.export("csv")&&n),n},null,null)),(t()(),n["\u0275eld"](4,0,null,null,0,"i",[["class","fa fa-external-link"]],null,null,null,null,null)),(t()(),n["\u0275ted"](-1,null,[" CSV"])),(t()(),n["\u0275eld"](6,0,null,null,2,"div",[["class","chart-wrapper"]],null,null,null,null,null)),(t()(),n["\u0275eld"](7,0,null,null,1,"canvas",[["baseChart",""],["class","chart"]],null,[[null,"chartHover"],[null,"chartClick"]],function(t,e,l){var n=!0,o=t.component;return"chartHover"===e&&(n=!1!==o.chartHovered(l)&&n),"chartClick"===e&&(n=!1!==o.chartClicked(l)&&n),n},null,null)),n["\u0275did"](8,737280,null,0,o.BaseChartDirective,[n.ElementRef],{data:[0,"data"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"],colors:[4,"colors"]},{chartClick:"chartClick",chartHover:"chartHover"})],function(t,e){var l=e.component;t(e,8,0,l.data,l.labels,l.chartOptions,l.doughnutChartType,l.colors)},null)}},hSFZ:function(t,e){!function(){"use strict";if("undefined"!=typeof Chart){"function"!=typeof Object.assign&&(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(l[a]=o[a])}return l});var t={};["pie","doughnut","polarArea","bar"].forEach(function(e){t[e]=!0}),e.prototype.setup=function(t,e){this.chart=t,this.ctx=t.ctx,this.args={},this.barTotal={};var l=t.config.options;this.options=Object.assign({position:"default",precision:0,fontSize:l.defaultFontSize,fontColor:l.defaultFontColor,fontStyle:l.defaultFontStyle,fontFamily:l.defaultFontFamily,shadowOffsetX:3,shadowOffsetY:3,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:6,images:[],outsidePadding:2,textMargin:2,overlap:!0},e),"bar"===t.config.type&&(this.options.position="default",this.options.arc=!1,this.options.overlap=!0)},e.prototype.render=function(){this.labelBounds=[],this.chart.data.datasets.forEach(this.renderToDataset)},e.prototype.renderToDataset=function(t,e){this.totalPercentage=0,this.total=null;var l=this.args[e];l.meta.data.forEach((function(e,n){this.renderToElement(t,l,e,n)}).bind(this))},e.prototype.renderToElement=function(t,e,l,n){if(this.shouldRenderToElement(e.meta,l)){this.percentage=null;var o=this.getLabel(t,l,n);if(o){var a=this.ctx;a.save(),a.font=Chart.helpers.fontString(this.options.fontSize,this.options.fontStyle,this.options.fontFamily);var r=this.getRenderInfo(l,o);this.drawable(l,o,r)?(a.beginPath(),a.fillStyle=this.getFontColor(t,l,n),this.renderLabel(o,r),a.restore()):a.restore()}}},e.prototype.renderLabel=function(t,e){return this.options.arc?this.renderArcLabel(t,e):this.renderBaseLabel(t,e)},e.prototype.renderBaseLabel=function(t,e){var l=this.ctx;if("object"==typeof t)l.drawImage(t,e.x-t.width/2,e.y-t.height/2,t.width,t.height);else{l.save(),l.textBaseline="top",l.textAlign="center",this.options.textShadow&&(l.shadowOffsetX=this.options.shadowOffsetX,l.shadowOffsetY=this.options.shadowOffsetY,l.shadowColor=this.options.shadowColor,l.shadowBlur=this.options.shadowBlur);for(var n=t.split("\n"),o=0;o<n.length;o++)l.fillText(n[o],e.x,e.y-this.options.fontSize/2*n.length+this.options.fontSize*o);l.restore()}},e.prototype.renderArcLabel=function(t,e){var l=this.ctx,n=e.radius,o=e.view;if(l.save(),l.translate(o.x,o.y),"string"==typeof t){l.rotate(e.startAngle),l.textBaseline="middle",l.textAlign="left";var a=t.split("\n"),r=0,i=[],s=0;"border"===this.options.position&&(s=(a.length-1)*this.options.fontSize/2);for(var c=0;c<a.length;++c){var u=l.measureText(a[c]);u.width>r&&(r=u.width),i.push(u.width)}for(c=0;c<a.length;++c){var d=a[c],h=(a.length-1-c)*-this.options.fontSize+s;l.save(),l.rotate((r-i[c])/2/n);for(var p=0;p<d.length;p++){var f=d.charAt(p);u=l.measureText(f),l.save(),l.translate(0,-1*n),l.fillText(f,0,h),l.restore(),l.rotate(u.width/n)}l.restore()}}else l.rotate((o.startAngle+Math.PI/2+e.endAngle)/2),l.translate(0,-1*n),this.renderLabel(t,{x:0,y:0});l.restore()},e.prototype.shouldRenderToElement=function(t,e){return!t.hidden&&!e.hidden&&(this.options.showZero||"polarArea"===this.chart.config.type?0!==e._view.outerRadius:0!==e._view.circumference)},e.prototype.getLabel=function(t,e,l){var n;if("function"==typeof this.options.render)n=this.options.render({label:this.chart.config.data.labels[l],value:t.data[l],percentage:this.getPercentage(t,e,l),dataset:t,index:l});else switch(this.options.render){case"value":n=t.data[l];break;case"label":n=this.chart.config.data.labels[l];break;case"image":n=this.options.images[l]?this.loadImage(this.options.images[l]):"";break;case"percentage":default:n=this.getPercentage(t,e,l)+"%"}return"object"==typeof n?n=this.loadImage(n):null!=n&&(n=n.toString()),n},e.prototype.getFontColor=function(t,e,l){var n=this.options.fontColor;return"function"==typeof n?n=n({label:this.chart.config.data.labels[l],value:t.data[l],percentage:this.getPercentage(t,e,l),backgroundColor:t.backgroundColor[l],dataset:t,index:l}):"string"!=typeof n&&(n=n[l]||this.chart.config.options.defaultFontColor),n},e.prototype.getPercentage=function(t,e,l){if(null!==this.percentage)return this.percentage;var n;if("polarArea"===this.chart.config.type){if(null===this.total){this.total=0;for(var o=0;o<t.data.length;++o)this.total+=t.data[o]}n=t.data[l]/this.total*100}else if("bar"===this.chart.config.type){if(void 0===this.barTotal[l])for(this.barTotal[l]=0,o=0;o<this.chart.data.datasets.length;++o)this.barTotal[l]+=this.chart.data.datasets[o].data[l];n=t.data[l]/this.barTotal[l]*100}else n=e._view.circumference/this.chart.config.options.circumference*100;return n=parseFloat(n.toFixed(this.options.precision)),this.options.showActualPercentages||("bar"===this.chart.config.type&&(this.totalPercentage=this.barTotalPercentage[l]||0),this.totalPercentage+=n,this.totalPercentage>100&&(n-=this.totalPercentage-100,n=parseFloat(n.toFixed(this.options.precision))),"bar"===this.chart.config.type&&(this.barTotalPercentage[l]=this.totalPercentage)),this.percentage=n,n},e.prototype.getRenderInfo=function(t,e){return"bar"===this.chart.config.type?this.getBarRenderInfo(t,e):this.options.arc?this.getArcRenderInfo(t,e):this.getBaseRenderInfo(t,e)},e.prototype.getBaseRenderInfo=function(t,e){if("outside"===this.options.position||"border"===this.options.position){var l,n,o=t._view,a=o.startAngle+(o.endAngle-o.startAngle)/2,r=o.outerRadius/2;if("border"===this.options.position?n=(o.outerRadius-r)/2+r:"outside"===this.options.position&&(n=o.outerRadius-r+r+this.options.textMargin),l={x:o.x+Math.cos(a)*n,y:o.y+Math.sin(a)*n},"outside"===this.options.position){var i=this.options.textMargin+this.measureLabel(e).width/2;l.x+=l.x<o.x?-i:i}return l}return t.tooltipPosition()},e.prototype.getArcRenderInfo=function(t,e){var l,n=t._view;l="outside"===this.options.position?n.outerRadius+this.options.fontSize+this.options.textMargin:"border"===this.options.position?(n.outerRadius/2+n.outerRadius)/2:(n.innerRadius+n.outerRadius)/2;var o=n.startAngle,a=n.endAngle,r=a-o;return o+=Math.PI/2,{radius:l,startAngle:o+=((a+=Math.PI/2)-(this.measureLabel(e).width/l+o))/2,endAngle:a,totalAngle:r,view:n}},e.prototype.getBarRenderInfo=function(t,e){var l=t.tooltipPosition();return l.y-=this.measureLabel(e).height/2+this.options.textMargin,l},e.prototype.drawable=function(t,e,l){if(this.options.overlap)return!0;if(this.options.arc)return l.endAngle-l.startAngle<=l.totalAngle;var n=this.measureLabel(e),o=l.x-n.width/2,a=l.x+n.width/2,r=l.y-n.height/2,i=l.y+n.height/2;return"outside"===this.options.renderInfo?this.outsideInRange(o,a,r,i):t.inRange(o,r)&&t.inRange(o,i)&&t.inRange(a,r)&&t.inRange(a,i)},e.prototype.outsideInRange=function(t,e,l,n){for(var o=this.labelBounds,a=0;a<o.length;++a){for(var r=o[a],i=[[t,l],[t,n],[e,l],[e,n]],s=0;s<i.length;++s){var c=i[s][1];if((u=i[s][0])>=r.left&&u<=r.right&&c>=r.top&&c<=r.bottom)return!1}for(i=[[r.left,r.top],[r.left,r.bottom],[r.right,r.top],[r.right,r.bottom]],s=0;s<i.length;++s){var u;if(c=i[s][1],(u=i[s][0])>=t&&u<=e&&c>=l&&c<=n)return!1}}return o.push({left:t,right:e,top:l,bottom:n}),!0},e.prototype.measureLabel=function(t){if("object"==typeof t)return{width:t.width,height:t.height};for(var e=0,l=t.split("\n"),n=0;n<l.length;++n){var o=this.ctx.measureText(l[n]);o.width>e&&(e=o.width)}return{width:e,height:this.options.fontSize*l.length}},e.prototype.loadImage=function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,e},Chart.plugins.register({id:"labels",beforeDatasetsUpdate:function(l,n){if(t[l.config.type]){Array.isArray(n)||(n=[n]);var o=n.length;l._labels&&o===l._labels.length||(l._labels=n.map(function(){return new e}));for(var a=!1,r=0,i=0;i<o;++i){var s=l._labels[i];if(s.setup(l,n[i]),"outside"===s.options.position){a=!0;var c=1.5*s.options.fontSize+s.options.outsidePadding;c>r&&(r=c)}}a&&(l.chartArea.top+=r,l.chartArea.bottom-=r)}},afterDatasetUpdate:function(e,l,n){t[e.config.type]&&e._labels.forEach(function(t){t.args[l.index]=l})},beforeDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.barTotalPercentage={}})},afterDatasetsDraw:function(e){t[e.config.type]&&e._labels.forEach(function(t){t.render()})}})}else console.error("Can not find Chart object.");function e(){this.renderToDataset=this.renderToDataset.bind(this)}}()}}]);